{
    "channel": "${{ env.CHANNEL_ID }}",
    "text": "Production (v${{ env.PROD_VERSION }}) is behind Staging (v${{ env.STAGING_VERSION }}) by ${{ env.RELEASE_COUNT_DIFF }} releases and ${{ env.DAYS_SINCE_PROD_DEPLOY }} days",
    "attachments": [
        {
            "color": "${{ env.COLOR }}",
            "fallback": "${{ env.EMOJI }} Production Deployment Lag Alert - Production (v${{ env.PROD_VERSION }}) is behind Staging (v${{ env.STAGING_VERSION }}) by ${{ env.RELEASE_COUNT_DIFF }} releases and ${{ env.DAYS_SINCE_PROD_DEPLOY }} days. View differences: ${{ env.COMPARE_URL }}",
            "blocks": [
                {
                    "type": "header",
                    "text": {
                        "type": "plain_text",
                        "text": "Production Deployment Lag Alert",
                        "emoji": true
                    }
                },
                {
                    "type": "section",
                    "text": {
                        "type": "mrkdwn",
                        "text": "*Severity:* ${{ env.SEVERITY }} | Production is lagging behind staging"
                    }
                },
                {
                    "type": "section",
                    "fields": [
                        {
                            "type": "mrkdwn",
                            "text": "*Staging Version:*\n`v${{ env.STAGING_VERSION }}`"
                        },
                        {
                            "type": "mrkdwn",
                            "text": "*Production Version:*\n`v${{ env.PROD_VERSION }}`"
                        },
                        {
                            "type": "mrkdwn",
                            "text": "*Days Since Prod Deploy:*\n${{ env.DAYS_SINCE_PROD_DEPLOY }} days"
                        },
                        {
                            "type": "mrkdwn",
                            "text": "*Release Difference:*\n${{ env.RELEASE_COUNT_DIFF }} releases behind"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "section",
                    "text": {
                        "type": "mrkdwn",
                        "text": "*Recent Changes:*\n${{ env.FORMATTED_COMMITS }}\n\n*Contributors:* ${{ env.AUTHOR_TAGS }}"
                    }
                }
            ]
        },
        {
            "color": "${{ env.COLOR }}",
            "blocks": [
                {
                    "type": "section",
                    "text": {
                        "type": "mrkdwn",
                        "text": ":point_right: *Consider deploying the latest staging version to production*"
                    }
                },
                {
                    "type": "actions",
                    "elements": [
                        {
                            "type": "button",
                            "text": {
                                "type": "plain_text",
                                "text": "View Differences"
                            },
                            "url": "${{ env.COMPARE_URL }}",
                            "style": "primary"
                        },
                        {
                            "type": "button",
                            "text": {
                                "type": "plain_text",
                                "text": "Deploy to Production"
                            },
                            "url": "${{ env.PROD_WORKFLOW_URL }}"
                        },
                        {
                            "type": "button",
                            "text": {
                                "type": "plain_text",
                                "text": "View Workflow Run"
                            },
                            "url": "${{ env.RUN_URL }}"
                        }
                    ]
                }
            ]
        }
    ]
}